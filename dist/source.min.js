define(["jquery"],function(a){function b(a){return a.reduce(function(a,b){return""+a+(""!==a?",":"")+b},"")}function c(a,b){d.hasClass("google-maps-loaded")?b():(window.googleMapsCallbacks=window.googleMapsCallbacks||{},window.googleMapsCallbacks[a]=b)}var d=a("body"),e={},f={validateAddress:function(a){var b=new google.maps.Geocoder;b.geocode({address:a.origAddress},function(b,c){c==google.maps.GeocoderStatus.OK&&-1!=b[0].types.indexOf("street_address")?a.success(a.origAddress,b):a.fail(a.origAddress,b)})},autoComplete:function(a){var b=a.$je;if(!b.hasClass("google-auto-complete-attached")){b.addClass("google-auto-complete-attached");var c={};"city"==a.type&&(c.types=["(cities)"],c.componentRestrictions={country:"us"}),google.maps.event.addListener(new google.maps.places.Autocomplete(b[0],c),"place_changed",a.change)}},getAutocompleteValues:function(a){var b=a.autocomplete.getPlace(),c={};if(b&&b.address_components){var d={street_number:"streetNumber",route:"street",locality:"city",administrative_area_level_1:"state",administrative_area_level_2:"county",postal_code:"postalCode",country:"country"};b.address_components.forEach(function(a){for(var b in d)-1!=a.types.indexOf(b)&&(c[d[b]]=a.short_name)})}a.callback(c)}};return window.googleMapsInitialized=function(){d.removeClass("google-maps-loading").addClass("google-maps-loaded"),window.googleMapsCallbacks&&setTimeout(function(){a.each(window.googleMapsCallbacks,function(a,b){b()})},100)},e.load=function(a,c){if(!d.hasClass("google-maps-loaded")&&!d.hasClass("google-maps-loading")){d.addClass("google-maps-loading");var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries="+b(c)+"&key="+a+"&callback=googleMapsInitialized",document.body.appendChild(e)}},a.each(f,function(a,b){"load"!=a&&(e[a]=function(d){c(a,function(){b(d)})})}),e});